<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Hayatta Kal</title>
<style>
body{background:#111;color:#eee;font-family:Arial;text-align:center}
button{margin:4px;padding:6px 14px;cursor:pointer}
.panel{border:1px solid #444;padding:12px;margin:10px auto;max-width:760px;text-align:left}
#game,#end{display:none}
.choice button{display:block;margin:6px 0}
.story{font-style:italic;color:#ccc;min-height:80px}
</style>
</head>
<body>

<div id="menu">
  <h1>ğŸ•¯ Hayatta Kal</h1>
  <p>HatÄ±rladÄ±ÄŸÄ±n tek ÅŸey soÄŸuk.</p>
  <button onclick="baslat()">â–¶ BaÅŸla</button>
</div>

<div id="game">
  <div class="panel" id="stats"></div>
  <div class="panel story" id="story"></div>
  <div class="panel" id="status"></div>
  <div class="panel" id="log"></div>
  <div class="panel" id="choices"></div>

  <div class="panel">
    <button onclick="kesif()">KeÅŸif</button>
    <button onclick="dinlen()">Dinlen</button>
    <button onclick="gunuBitir()">GÃ¼nÃ¼ Bitir</button>
    <button onclick="oyunuBitir()">Oyunu Bitir</button>
    <button onclick="hikayeIlerle()">Ä°lerle â–¶</button>
  </div>
</div>

<div id="end">
  <h2>Oyun Bitti</h2>
  <div class="panel" id="summary"></div>
  <button onclick="location.reload()">Yeniden BaÅŸla</button>
</div>

<script>
let gun,can,enerji,odak;
let kesifSay=0,dinlenSay=0,toplamHasar=0;
let kaliciTehdit=false, evcilHayvan=false;

let hikayeIndex = 0;
let aktifHikaye = [];

const HIKAYE = {
  1: [
    "GÃ¶zlerini aÃ§tÄ±ÄŸÄ±nda hava soÄŸuk.",
    "Nerede olduÄŸunu bilmiyorsun.",
    "HatÄ±rladÄ±ÄŸÄ±n tek ÅŸey buraya ait olmadÄ±ÄŸÄ±n."
  ],
  3: [
    "Orman sessiz ama bu sessizlik doÄŸal deÄŸil.",
    "RÃ¼zgÃ¢r bile temkinli esiyor.",
    "Bir ÅŸeylerin seni izlediÄŸini hissediyorsun."
  ],
  7: [
    "Geceler uzadÄ±.",
    "Sesler artÄ±k hayal deÄŸil.",
    "BazÄ±larÄ± sana Ã§ok yakÄ±n."
  ],
  12: [
    "Burada senden Ã¶nce baÅŸkalarÄ± da vardÄ±.",
    "Ama hiÃ§biri kalmamÄ±ÅŸ.",
    "Nedenini dÃ¼ÅŸÃ¼nmek istemiyorsun."
  ],
  18: [
    "ArtÄ±k kaÃ§ gÃ¼ndÃ¼r buradasÄ±n bilmiyorsun.",
    "Zaman burada farklÄ± iÅŸliyor.",
    "Belki de Ã§Ä±kÄ±ÅŸ yok."
  ]
};

function baslat(){
  menu.style.display="none";
  game.style.display="block";
  gun=1;can=100;enerji=100;odak=5;
  hikayeHazirla();
  guncelle();
}

function guncelle(){
  stats.innerHTML=`<b>GÃ¼n:</b> ${gun}<br>â¤ï¸ ${can} âš¡ ${enerji} ğŸ¯ ${odak}`;
  let d=[];
  if(can<40)d.push("YaralÄ±");
  if(enerji<30)d.push("TÃ¼kenmiÅŸ");
  if(odak<=0)d.push("Zihni DaÄŸÄ±nÄ±k");
  status.innerHTML="<b>Durum:</b> "+(d.length?d.join(", "):"Normal");
}

function hikayeHazirla(){
  aktifHikaye = HIKAYE[gun] || [];
  hikayeIndex = 0;
  story.innerHTML = aktifHikaye.length ? aktifHikaye[0] : "";
}

function hikayeIlerle(){
  if(hikayeIndex < aktifHikaye.length-1){
    hikayeIndex++;
    story.innerHTML = aktifHikaye[hikayeIndex];
  }
}

function logYaz(t){ log.innerHTML=t }

function kesif(){
  if(odak<=0){logYaz("Zihnin daÄŸÄ±nÄ±k.");return;}
  kesifSay++; odak--; enerji-=10;
  if(Math.random()<0.6){ olayBaslat(); }
  else logYaz("KeÅŸif sessiz geÃ§ti.");
  sinirla(); guncelle();
}

function olayBaslat(){
  const olaylar=["hayvan","evcil","kamp","bitki"];
  const o=olaylar[Math.floor(Math.random()*olaylar.length)];
  if(o==="hayvan") hayvan();
  if(o==="evcil") evcil();
  if(o==="kamp") kamp();
  if(o==="bitki") bitki();
}

function hayvan(){
  choices.innerHTML=`
  <b>Olay:</b> KaranlÄ±kta parlayan gÃ¶zler gÃ¶rÃ¼yorsun.
  <div class="choice">
    <button onclick="hayvanSec('kac')">KaÃ§</button>
    <button onclick="hayvanSec('savun')">Savun</button>
    <button onclick="hayvanSec('kovala')">Kovala</button>
  </div>`;
}

function hayvanSec(s){
  choices.innerHTML="";
  if(s==="kac"){ enerji-=10; logYaz("Kalbin uzun sÃ¼re sakinleÅŸmedi."); }
  if(s==="savun"){ can-=12; toplamHasar+=12; kaliciTehdit=true;
    logYaz("YaralandÄ±n. ArtÄ±k yalnÄ±z deÄŸilsin."); }
  if(s==="kovala"){ can-=6; toplamHasar+=6;
    logYaz("Tehlike ÅŸimdilik uzaklaÅŸtÄ±."); }
  sinirla(); guncelle();
}

function evcil(){
  choices.innerHTML=`
  <b>Olay:</b> Sana yaklaÅŸan kÃ¼Ã§Ã¼k bir canlÄ± var.
  <div class="choice">
    <button onclick="evcilSec('besle')">Besle</button>
    <button onclick="evcilSec('kov')">UzaklaÅŸtÄ±r</button>
  </div>`;
}

function evcilSec(s){
  choices.innerHTML="";
  if(s==="besle"){ evcilHayvan=true; enerji-=5;
    logYaz("YalnÄ±zlÄ±k biraz azaldÄ±."); }
  if(s==="kov"){ logYaz("Sessizlik geri dÃ¶ndÃ¼."); }
  sinirla(); guncelle();
}

function kamp(){
  choices.innerHTML=`
  <b>Olay:</b> Terk edilmiÅŸ bir kamp alanÄ±.
  <div class="choice">
    <button onclick="kampSec('ara')">Ara</button>
    <button onclick="kampSec('git')">UzaklaÅŸ</button>
  </div>`;
}

function kampSec(s){
  choices.innerHTML="";
  if(s==="ara"){ enerji+=10; logYaz("Burada biri yaÅŸamÄ±ÅŸ."); }
  if(s==="git"){ logYaz("BazÄ± cevaplar karanlÄ±kta kaldÄ±."); }
  sinirla(); guncelle();
}

function bitki(){
  choices.innerHTML=`
  <b>Olay:</b> TanÄ±madÄ±ÄŸÄ±n bir bitki.
  <div class="choice">
    <button onclick="bitkiSec('ye')">TÃ¼ket</button>
    <button onclick="bitkiSec('dokunma')">Dokunma</button>
  </div>`;
}

function bitkiSec(s){
  choices.innerHTML="";
  if(s==="ye"){
    if(Math.random()<0.5){ can+=10; logYaz("VÃ¼cudun Ä±sÄ±ndÄ±."); }
    else{ can-=10; toplamHasar+=10; logYaz("Miden yandÄ±."); }
  }
  if(s==="dokunma"){ logYaz("Temkinli davrandÄ±n."); }
  sinirla(); guncelle();
}

function dinlen(){
  dinlenSay++; enerji+=20; can+=5;
  logYaz("Uyumaya Ã§alÄ±ÅŸtÄ±n.");
  sinirla(); guncelle();
}

function gunuBitir(){
  enerji-=gun<=5?5:gun<=15?8:10;
  if(kaliciTehdit){ can-=1; toplamHasar+=1; }
  if(evcilHayvan){ enerji+=2; }
  gun++;
  hikayeHazirla();
  sinirla(); guncelle();
}

function oyunuBitir(){
  game.style.display="none";
  end.style.display="block";
  let tarz="Dengeli";
  if(kesifSay>dinlenSay)tarz="Risk Alan KaÅŸif";
  if(dinlenSay>kesifSay)tarz="Temkinli Hayatta Kalan";
  summary.innerHTML=`
  GÃ¼n: ${gun}<br>
  KeÅŸif: ${kesifSay}<br>
  Dinlenme: ${dinlenSay}<br>
  AlÄ±nan Hasar: ${toplamHasar}<br>
  <b>Oyun TarzÄ±:</b> ${tarz}`;
}

function sinirla(){
  can=Math.max(0,Math.min(100,can));
  enerji=Math.max(0,Math.min(100,enerji));
  odak=Math.max(0,odak);
}
</script>
</body>
</html>
