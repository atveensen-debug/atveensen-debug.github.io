<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Arda â€“ Son Ã‡ocuk</title>

<style>
body{
  background:#111;
  color:#eee;
  font-family:Arial;
  margin:0;
  text-align:center;
}
button{
  margin:4px;
  padding:6px 12px;
  cursor:pointer;
}
.screen{display:none;padding:20px}
#menu{display:block;min-height:100vh}
.box{
  border:1px solid #444;
  padding:10px;
  margin-bottom:10px;
}
h2{margin-top:16px}
</style>
</head>

<body>

<!-- GÄ°RÄ°Å -->
<div id="menu" class="screen">
  <h1>ğŸ•¯ï¸ Arda â€“ Son Ã‡ocuk</h1>
  <button onclick="oyunaBasla()">â–¶ Oyuna BaÅŸla</button><br>
  <button onclick="nasilOynanir()">ğŸ“– NasÄ±l OynanÄ±r</button><br>
  <button onclick="ayarlar()">âš™ Ayarlar</button>
</div>

<!-- NASIL OYNANIR -->
<div id="howto" class="screen">
  <h2>NasÄ±l OynanÄ±r</h2>
  <p>
    GÃ¼ndÃ¼z yeteneklerini geliÅŸtir.<br>
    Gece yaklaÅŸan tehditlere dayan.<br><br>
    AmaÃ§: mÃ¼mkÃ¼n olduÄŸunca Ã§ok gÃ¼n hayatta kalmak.
  </p>
  <button onclick="anaMenu()">â¬… Geri</button>
</div>

<!-- AYARLAR -->
<div id="settings" class="screen">
  <h2>âš™ Ayarlar</h2>

  <div class="box">
    <h3>Zorluk</h3>
    <button onclick="ayarZorluk('kolay')">Kolay</button>
    <button onclick="ayarZorluk('normal')">Normal</button>
    <button onclick="ayarZorluk('zor')">Zor</button>
    <p>SeÃ§ili: <b id="zorlukYazi">Normal</b></p>
  </div>

  <div class="box">
    <h3>YazÄ± HÄ±zÄ±</h3>
    <button onclick="ayarYazi('anlik')">AnlÄ±k</button>
    <button onclick="ayarYazi('normal')">Normal</button>
    <button onclick="ayarYazi('yavas')">YavaÅŸ</button>
    <p>SeÃ§ili: <b id="yaziYazi">Normal</b></p>
  </div>

  <div class="box">
    <h3>Ä°puÃ§larÄ±</h3>
    <button onclick="ayarIpucu(true)">AÃ§Ä±k</button>
    <button onclick="ayarIpucu(false)">KapalÄ±</button>
    <p>Durum: <b id="ipucuYazi">AÃ§Ä±k</b></p>
  </div>

  <button onclick="anaMenu()">â¬… Ana MenÃ¼</button>
</div>

<!-- OYUN -->
<div id="game" class="screen">

<h2>ğŸ•¯ï¸ Arda â€“ Hayatta Kal</h2>

<div class="box">
  <div>ğŸ“… GÃ¼n: <span id="gun"></span></div>
  <div>ğŸŒ‘ Tehdit: <b><span id="tehdit"></span></b></div>
  <div>â¤ï¸ Can: <span id="can"></span></div>
  <div>âš¡ Enerji: <span id="enerji"></span></div>
  <div>ğŸ’  Odak: <span id="odak"></span></div>
  <div>â³ Hamle: <span id="zaman"></span></div>
</div>

<div id="yetenekler"></div>

<button onclick="dinlen()">ğŸ’¤ Dinlen</button>
<button onclick="anaMenu()">Ana MenÃ¼</button>

<hr>
<div id="log"></div>
</div>

<script>
/* -------- AYARLAR -------- */
let ayarlarData={
  zorluk:"normal",
  yaziHizi:"normal",
  ipucu:true
}

/* -------- EKRAN -------- */
function gizle(){
  ["menu","howto","settings","game"].forEach(i=>{
    document.getElementById(i).style.display="none"
  })
}
function anaMenu(){gizle();menu.style.display="block"}
function nasilOynanir(){gizle();howto.style.display="block"}
function ayarlar(){gizle();settings.style.display="block"}
function oyunaBasla(){gizle();game.style.display="block";basla()}

/* -------- AYAR FONKS -------- */
function ayarZorluk(z){
  ayarlarData.zorluk=z
  zorlukYazi.innerText=z
}
function ayarYazi(y){
  ayarlarData.yaziHizi=y
  yaziYazi.innerText=y
}
function ayarIpucu(d){
  ayarlarData.ipucu=d
  ipucuYazi.innerText=d?"AÃ§Ä±k":"KapalÄ±"
}

/* -------- OYUN -------- */
let maxCan=10,maxEnerji=6
let can,enerji,odak,zaman,gun,aktifTehdit
let kategoriler={
  Fiziksel:["GÃ¼Ã§","HÄ±z","DayanÄ±klÄ±lÄ±k","Ã‡eviklik"],
  Hayatta:["AvcÄ±lÄ±k","Ä°z sÃ¼rme","BarÄ±nak","Ä°lk yardÄ±m"],
  KaranlÄ±k:["GÃ¶lge","Korku direnci","AlgÄ± bozma","Sessizlik"],
  BaÄŸ:["Hayvan","Sezgi","DoÄŸa uyumu","Gizli baÄŸ"]
}
let yetenekler={}

function basla(){
  can=10;enerji=6;odak=10;gun=1
  for(let k in kategoriler)
    kategoriler[k].forEach(y=>yetenekler[y]=0)
  yeniGun()
}

function yeniGun(){
  zaman=6
  aktifTehdit=rastgele()
  yaz(`ğŸŒ… GÃ¼n ${gun} baÅŸladÄ±. Gece: ${aktifTehdit}`)
  guncelle();butonlar()
}

function rastgele(){
  let k=Object.keys(kategoriler)
  return k[Math.floor(Math.random()*k.length)]
}

function guncelle(){
  gunEl("gun",gun)
  gunEl("can",can+"/"+maxCan)
  gunEl("enerji",enerji+"/"+maxEnerji)
  gunEl("odak",odak)
  gunEl("zaman",zaman)
  gunEl("tehdit",aktifTehdit)
}
function gunEl(i,v){document.getElementById(i).innerText=v}

function butonlar(){
  let a=yeteneklerDiv=document.getElementById("yetenekler")
  a.innerHTML=""
  for(let k in kategoriler){
    a.innerHTML+=`<h2>${k}</h2>`
    kategoriler[k].forEach(y=>{
      a.innerHTML+=`<button onclick="gelistir('${y}')">${y} (${yetenekler[y]})</button>`
    })
  }
}

function gelistir(y){
  if(enerji<2||odak<=0){yaz("Yorgunsun.");return}
  yetenekler[y]++
  enerji-=2;odak--;zaman--
  yaz(y+" geliÅŸtirildi.")
  kontrol()
}

function dinlen(){
  enerji=Math.min(maxEnerji,enerji+3)
  can=Math.min(maxCan,can+1)
  zaman--
  yaz("Dinlendin.")
  kontrol()
}

function kontrol(){
  guncelle();butonlar()
  if(zaman<=0)gece()
}

function gece(){
  let toplam=0
  kategoriler[aktifTehdit].forEach(y=>toplam+=yetenekler[y])
  let temel=6+gun
  if(ayarlarData.zorluk=="kolay")temel-=2
  if(ayarlarData.zorluk=="zor")temel+=2
  let eksik=Math.max(0,temel-toplam)
  can-=eksik
  enerji=Math.max(0,enerji-1)
  if(ayarlarData.ipucu&&eksik>0) yaz("Ä°pucu: Bu kategoriye odaklan.")
  yaz(`ğŸŒ‘ Gece bitti | Can -${eksik}`)
  gun++;yeniGun()
}

function yaz(m){
  document.getElementById("log").innerHTML="<p>"+m+"</p>"
}
</script>

</body>
</html>
