<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Hayatta Kal</title>
<style>
body{background:#0f0f0f;color:#eee;font-family:Arial;text-align:center;margin:0}
button{padding:8px 18px;margin:6px;cursor:pointer}
.panel{border:1px solid #444;padding:14px;margin:12px auto;max-width:760px;text-align:left}
.story{font-style:italic;color:#ccc;min-height:90px}
.choice button{display:block;margin:6px 0}
#game,#end,#how{display:none}
h1,h2{font-weight:normal}
</style>
</head>
<body>

<!-- GÄ°RÄ°Å -->
<div id="menu">
  <h1>ğŸ•¯ HAYATTA KAL</h1>
  <p>SoÄŸuk. Sessizlik. Ve neden burada olduÄŸunu bilmiyorsun.</p>
  <button onclick="ekran('how')">NasÄ±l OynanÄ±r</button>
  <button onclick="baslat()">Oyuna BaÅŸla</button>
</div>

<!-- NASIL OYNANIR -->
<div id="how" class="panel">
  <h2>NasÄ±l OynanÄ±r?</h2>
  <p>
  Bu bir karar oyunudur.<br><br>
  â€¢ Her gÃ¼n farklÄ± eylemler seÃ§ersin<br>
  â€¢ Her seÃ§imin kÄ±sa ve uzun vadeli sonuÃ§larÄ± vardÄ±r<br>
  â€¢ HikÃ¢ye, oynayÄ±ÅŸ tarzÄ±na gÃ¶re deÄŸiÅŸir<br><br>
  YanlÄ±ÅŸ karar yoktur. Bedeli olan kararlar vardÄ±r.
  </p>
  <button onclick="ekran('menu')">Geri</button>
</div>

<!-- OYUN -->
<div id="game">
  <div class="panel" id="stats"></div>
  <div class="panel story" id="story"></div>
  <div class="panel" id="status"></div>
  <div class="panel" id="log"></div>
  <div class="panel choice" id="choices"></div>

  <div class="panel">
    <button onclick="kesif()">KeÅŸif</button>
    <button onclick="dinlen()">Dinlen</button>
    <button onclick="gozlem()">ğŸ‘ GÃ¶zlem</button>
    <button onclick="antrenman()">ğŸ§  Antrenman</button>
    <button onclick="gunuBitir()">GÃ¼nÃ¼ Bitir</button>
    <button onclick="hikayeIlerle()">Ä°lerle â–¶</button>
  </div>
</div>

<!-- SON -->
<div id="end">
  <h2 id="endTitle"></h2>
  <div class="panel" id="summary"></div>
  <button onclick="location.reload()">Yeniden BaÅŸla</button>
</div>

<script>
// =====================
// EKRAN GEÃ‡Ä°Å
// =====================
function ekran(id){
  menu.style.display="none";
  how.style.display="none";
  game.style.display="none";
  end.style.display="none";
  document.getElementById(id).style.display="block";
}

// =====================
// OYUN DEÄÄ°ÅKENLERÄ°
// =====================
let gun,can,enerji,odak;
let kesifSay=0,dinlenSay=0,toplamHasar=0;
let bilgi=0,hazirlik=0;
let kaliciTehdit=false;

let aktifHikaye=[],hikayeIndex=0;

// =====================
function baslat(){
  ekran("game");
  gun=1;can=100;enerji=100;odak=5;
  hikayeHazirla(); guncelle();
}

// =====================
function guncelle(){
  stats.innerHTML=`<b>GÃ¼n:</b> ${gun} | â¤ï¸ ${can} âš¡ ${enerji} ğŸ¯ ${odak}`;
  let d=[];
  if(can<40)d.push("YaralÄ±");
  if(enerji<30)d.push("TÃ¼kenmiÅŸ");
  status.innerHTML="<b>Durum:</b> "+(d.length?d.join(", "):"Normal");
}

// =====================
function hikayeHazirla(){
  aktifHikaye=[];
  if(bilgi>2) aktifHikaye.push("Ã‡evredeki detaylarÄ± daha erken fark ediyorsun.");
  if(hazirlik>2) aktifHikaye.push("VÃ¼cudun zorluklara daha hazÄ±r.");
  if(kaliciTehdit) aktifHikaye.push("Bir ÅŸey seni izliyor.");
  hikayeIndex=0;
  story.innerHTML=aktifHikaye[0]||"";
}

// =====================
function hikayeIlerle(){
  if(hikayeIndex<aktifHikaye.length-1){
    hikayeIndex++;
    story.innerHTML=aktifHikaye[hikayeIndex];
  }
}

// =====================
// EYLEMLER
// =====================
function kesif(){
  if(odak<=0){log.innerHTML="Odak yok.";return;}
  odak--; enerji-=10; kesifSay++;
  Math.random()<(0.6-bilgi*0.1)?hayvanOlay():log.innerHTML="Sessiz bir keÅŸif.";
  kontrol(); guncelle();
}

function dinlen(){
  enerji+=20; can+=6; dinlenSay++;
  log.innerHTML="Dinlendin.";
  kontrol(); guncelle();
}

function gozlem(){
  if(odak<=0){log.innerHTML="Odak yok.";return;}
  odak--; bilgi++;
  log.innerHTML="Ã‡evreyi dikkatle gÃ¶zlemledin.";
  aktifHikaye.push("BazÄ± ÅŸeyleri Ã¶nceden fark ettin.");
  guncelle();
}

function antrenman(){
  enerji-=10; odak++; hazirlik++;
  log.innerHTML="Kendini zorladÄ±n.";
  aktifHikaye.push("Daha hazÄ±rlÄ±klÄ±sÄ±n.");
  kontrol(); guncelle();
}

// =====================
function hayvanOlay(){
  choices.innerHTML=`
  <b>Bir hayvan saldÄ±rÄ±yor</b>
  <button onclick="hayvanSec()">Savun</button>`;
}

function hayvanSec(){
  choices.innerHTML="";
  let hasar=Math.max(0,15-hazirlik*2);
  can-=hasar; toplamHasar+=hasar;
  if(hasar>0) kaliciTehdit=true;
  log.innerHTML="KarÅŸÄ±laÅŸma sona erdi.";
  kontrol(); guncelle();
}

// =====================
function gunuBitir(){
  enerji-=8;
  if(kaliciTehdit){can--;toplamHasar++;}
  gun++; hikayeHazirla();
  kontrol(); guncelle();
}

// =====================
function kontrol(){
  if(can<=0) bitir("AvlandÄ±n","Bu yer seni kabul etmedi.");
  if(enerji<=0) bitir("TÃ¼keniÅŸ","AyaÄŸa kalkacak gÃ¼cÃ¼n kalmadÄ±.");
  if(gun>=25) bitir("Hayatta Kalan","Bu yer seni deÄŸiÅŸtirdi.");
}

// =====================
function bitir(b,m){
  ekran("end");
  endTitle.innerText=b;
  summary.innerHTML=m;
}
</script>
</body>
</html>
