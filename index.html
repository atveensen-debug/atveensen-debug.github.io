<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Hayatta Kal</title>
<style>
body { background:#111; color:#eee; font-family:Arial; text-align:center }
button { margin:4px; padding:6px 12px; cursor:pointer }
.panel { border:1px solid #444; padding:10px; margin:10px auto; max-width:600px; text-align:left }
#game { display:none }
.skill { font-size:14px }
</style>
</head>
<body>

<div id="menu">
  <h1>ğŸ•¯ Hayatta Kal</h1>
  <button onclick="oyunuBaslat()">â–¶ BaÅŸla</button>
</div>

<div id="game">
  <div class="panel" id="stats"></div>
  <div class="panel" id="status"></div>
  <div class="panel" id="skills"></div>
  <div class="panel" id="log"></div>

  <div class="panel">
    <button onclick="kesif()">KeÅŸif</button>
    <button onclick="dinlen()">Dinlen</button>
    <button onclick="gunuBitir()">GÃ¼nÃ¼ Bitir</button>
  </div>
</div>

<script>
let gun, can, enerji, odak, kesifYapildi;
let maxCan = 100, maxEnerji = 100, maxOdak = 5;
let yetenekPuani = 0;
let yetenekler = {};

const YETENEK_LISTESI = {
  "Fiziksel": ["DayanÄ±klÄ±lÄ±k","Sert Deri","HÄ±zlÄ± Toparlanma","GÃ¼Ã§"],
  "Zihinsel": ["Odaklanma","SoÄŸukkanlÄ±","Strateji","HafÄ±za"],
  "Hayatta Kalma": ["AvcÄ±lÄ±k","ToplayÄ±cÄ±lÄ±k","KampÃ§Ä±lÄ±k","Ä°lk YardÄ±m"],
  "KeÅŸif": ["Ä°z SÃ¼rme","Cesaret","Ã‡eviklik","Åans"]
};

function oyunuBaslat(){
  menu.style.display="none";
  game.style.display="block";
  basla();
}

function basla(){
  gun=1; can=100; enerji=100; odak=5;
  yetenekPuani=0; yetenekler={};
  logYaz("Oyun baÅŸladÄ±.");
  guncelle();
}

function guncelle(){
  stats.innerHTML=`<b>GÃ¼n:</b> ${gun}<br>
  â¤ï¸ ${can}/${maxCan} âš¡ ${enerji}/${maxEnerji} ğŸ¯ ${odak}/${maxOdak}<br>
  â­ Yetenek PuanÄ±: ${yetenekPuani}`;

  let d=[];
  if(can<40)d.push("YaralÄ±");
  if(enerji<30)d.push("TÃ¼kenmiÅŸ");
  if(odak<=0)d.push("Zihni DaÄŸÄ±nÄ±k");
  status.innerHTML="<b>Durum:</b> "+(d.length?d.join(", "):"Normal");

  let s="<b>Yetenekler</b><br>";
  for(let kat in YETENEK_LISTESI){
    s+=`<u>${kat}</u><br>`;
    YETENEK_LISTESI[kat].forEach(y=>{
      if(yetenekler[y]) s+=`âœ” ${y}<br>`;
      else if(yetenekPuani>0) s+=`<button class="skill" onclick="al('${y}')">${y}</button><br>`;
      else s+=`â€¢ ${y}<br>`;
    });
  }
  skills.innerHTML=s;
}

function al(y){
  yetenekler[y]=true;
  yetenekPuani--;
  if(y==="DayanÄ±klÄ±lÄ±k") maxCan+=10;
  if(y==="Odaklanma") maxOdak+=1;
  guncelle();
}

function kesif(){
  if(odak<=0 && !yetenekler["HafÄ±za"]){ logYaz("Odak yok."); return; }
  kesifYapildi=true;
  odak--; enerji-=10-(yetenekler["Ã‡eviklik"]?3:0);

  let risk = gun>=16?0.7:gun>=6?0.5:0.3;
  if(yetenekler["Strateji"]) risk-=0.1;
  if(yetenekler["Ä°z SÃ¼rme"]) risk-=0.1;

  if(Math.random()<risk){
    let dmg=10-(yetenekler["Sert Deri"]?2:0);
    can-=dmg;
    logYaz("Tehlikeli keÅŸif!");
  } else {
    logYaz("KeÅŸif baÅŸarÄ±lÄ±.");
    if(yetenekler["ToplayÄ±cÄ±lÄ±k"]) enerji+=5;
  }
  sinirla(); guncelle();
}

function dinlen(){
  enerji+=20+(yetenekler["HÄ±zlÄ± Toparlanma"]?5:0);
  can+=5;
  logYaz("Dinlendin.");
  sinirla(); guncelle();
}

function gunuBitir(){
  if(gun%3===0) yetenekPuani++;
  gece();
  gun++; kesifYapildi=false;
  guncelle();
}

function gece(){
  enerji-=gun<=5?5:gun<=15?8:10;
  if(gun>5) odak-=yetenekler["SoÄŸukkanlÄ±"]?0:1;
  if(gun>15) can-=yetenekler["Ä°lk YardÄ±m"]?1:2;
  if(yetenekler["KampÃ§Ä±lÄ±k"]) enerji+=2;
  sinirla();
}

function logYaz(t){ log.innerHTML=t }
function sinirla(){
  can=Math.max(0,Math.min(maxCan,can));
  enerji=Math.max(0,Math.min(maxEnerji,enerji));
  odak=Math.max(0,Math.min(maxOdak,odak));
}
</script>
</body>
</html>
